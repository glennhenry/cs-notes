"use strict";(self.webpackChunkcs_notes=self.webpackChunkcs_notes||[]).push([[149],{28453:(e,s,t)=>{t.d(s,{R:()=>o,x:()=>a});var n=t(96540);const i={},r=n.createContext(i);function o(e){const s=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),n.createElement(r.Provider,{value:s},e.children)}},28763:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/images/system-call-interface-a7bb94d5c37d05ec966a79c78f21a8c1.png"},49188:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"operating-system/system-call/system-call","title":"System Call","description":"System Call","source":"@site/docs/operating-system/07-system-call/system-call.md","sourceDirName":"operating-system/07-system-call","slug":"/operating-system/system-call","permalink":"/cs-notes/operating-system/system-call","draft":false,"unlisted":false,"editUrl":"https://github.com/glennhenry/cs-notes/tree/main/docs/operating-system/07-system-call/system-call.md","tags":[],"version":"current","lastUpdatedBy":"glennhenry","lastUpdatedAt":1723455088000,"frontMatter":{"slug":"/operating-system/system-call","id":"system-call","title":"System Call","description":"System Call"},"sidebar":"sidebar","previous":{"title":"Interrupt Handling","permalink":"/cs-notes/operating-system/interrupt-handling"},"next":{"title":"Inter-process Communication","permalink":"/cs-notes/operating-system/inter-process-communication"}}');var i=t(74848),r=t(28453);const o={slug:"/operating-system/system-call",id:"system-call",title:"System Call",description:"System Call"},a=void 0,c={},l=[{value:"System Call Interface",id:"system-call-interface",level:3},{value:"Type of System Calls &amp; Example",id:"type-of-system-calls--example",level:3},{value:"Process Control",id:"process-control",level:4},{value:"File Manipulation",id:"file-manipulation",level:4},{value:"Device Manipulation",id:"device-manipulation",level:4},{value:"Information Maintenance",id:"information-maintenance",level:4},{value:"Communications",id:"communications",level:4},{value:"Protection",id:"protection",level:4},{value:"System Call Implementation",id:"system-call-implementation",level:3}];function d(e){const s={a:"a",admonition:"admonition",br:"br",code:"code",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Main Source:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.strong,{children:"[Chapter 2 Operating-System Structures - Abraham Silberschatz-Operating System Concepts (9th,2012_12)]"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/System_call",children:"System call \u2014 Wikipedia"})})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.a,{href:"https://www.geeksforgeeks.org/introduction-of-system-call/",children:"Introduction of System Call \u2014 GeeksForGeeks"})})}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Applications primarily run in ",(0,i.jsx)(s.strong,{children:"user mode"}),", which is a restricted environment with limited access to system resources. Certain operations, such as interacting with hardware devices or modifying critical system data, are prohibited in user mode to maintain system stability and security."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"System calls"})," is the way for applications to request privileged operations from the operating system ",(0,i.jsx)(s.a,{href:"/operating-system/kernel",children:"kernel"}),", which operates in a higher privileged mode called ",(0,i.jsx)(s.strong,{children:"kernel mode"}),"."]}),"\n",(0,i.jsx)(s.h3,{id:"system-call-interface",children:"System Call Interface"}),"\n",(0,i.jsxs)(s.p,{children:["System calls are provided by the operating system kernel, this mean each OS may have different way to request access. They are achieved through calling a set of defined function or method provided by the operating system. For example, functions with descriptive names like ",(0,i.jsx)(s.code,{children:"open()"}),", ",(0,i.jsx)(s.code,{children:"read()"}),", ",(0,i.jsx)(s.code,{children:"write()"}),", are used to manipulate file."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.img,{alt:"System call interfaces",src:t(28763).A+"",width:"630",height:"387"}),(0,i.jsx)(s.br,{}),"\n","Source: ",(0,i.jsx)(s.a,{href:"https://stackoverflow.com/questions/60136893/what-is-system-call-interface",children:"https://stackoverflow.com/questions/60136893/what-is-system-call-interface"})]}),"\n",(0,i.jsx)(s.p,{children:"The application that calls doesn't need to know the low-level details of how the operating system implements that system call. The application only needs to know the interface provided by the operating system and how to use the system call correctly."}),"\n",(0,i.jsx)(s.p,{children:"The use of interface allows for a simple development, application developers can write portable code that can run on different operating systems without modifications, as long as the system call interface is consistent."}),"\n",(0,i.jsxs)(s.p,{children:["In ",(0,i.jsx)(s.a,{href:"/operating-system/unix",children:"Unix-like systems"}),", system calls are included in the C language, specifically the ",(0,i.jsx)(s.strong,{children:"libc"})," library. In other OS like ",(0,i.jsx)(s.a,{href:"/operating-system/windows",children:"Windows NT"}),', system calls are commonly referred to as "Windows API functions", and it has different interface with the libc.']}),"\n",(0,i.jsx)(s.h3,{id:"type-of-system-calls--example",children:"Type of System Calls & Example"}),"\n",(0,i.jsxs)(s.p,{children:["System calls can be categorized into several types based on the services they provide. In the example, the system calls are associated with ",(0,i.jsx)(s.a,{href:"/operating-system/unix",children:"Unix-like"})," operating systems."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.img,{alt:"System call",src:t(92157).A+"",width:"381",height:"284"}),(0,i.jsx)(s.br,{}),"\n","Source: ",(0,i.jsx)(s.a,{href:"https://www.scaler.com/topics/operating-system/system-calls-in-operating-system/",children:"https://www.scaler.com/topics/operating-system/system-calls-in-operating-system/"})]}),"\n",(0,i.jsx)(s.h4,{id:"process-control",children:"Process Control"}),"\n",(0,i.jsx)(s.p,{children:"They are related to the management of processes and their execution."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Process Creation"}),": System call like ",(0,i.jsx)(s.code,{children:"fork()"})," duplicates the existing process, creating a new child process with a new ID, the child process also inherits some of the attributes and resource such as memory space from the parent process. The ",(0,i.jsx)(s.code,{children:"exec()"})," system call replaces the current process's memory with a new program, loading a new executable file."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Process Termination"}),": The ",(0,i.jsx)(s.code,{children:"exit()"})," system call terminates a process, returning an exit status. The ",(0,i.jsx)(s.code,{children:"wait()"})," system call allows a parent process to wait for its child process to terminate and retrieve its exit status."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Process Status"}),": System calls like ",(0,i.jsx)(s.code,{children:"getpid()"}),", ",(0,i.jsx)(s.code,{children:"getppid()"}),", and ",(0,i.jsx)(s.code,{children:"getuid()"})," provide process-related information such as process ID, parent process ID, and user ID."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Process Scheduling"}),": The ",(0,i.jsx)(s.code,{children:"yield()"})," system call allows a process to voluntarily release the CPU and let other processes run. The ",(0,i.jsx)(s.code,{children:"nice()"})," system call adjusts process scheduling priority, with lower values indicating higher priority. These system calls manage process scheduling and priorities."]}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"file-manipulation",children:"File Manipulation"}),"\n",(0,i.jsx)(s.p,{children:"System calls in this category are used for working with files and file systems."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"File Operations"}),": System calls with descriptive names such as ",(0,i.jsx)(s.code,{children:"open()"}),", ",(0,i.jsx)(s.code,{children:"read()"})," to, ",(0,i.jsx)(s.code,{children:"write()"}),", and ",(0,i.jsx)(s.code,{children:"close()"})," are used for manipulating files."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"File and Directory Management"}),": System calls like ",(0,i.jsx)(s.code,{children:"mkdir()"})," to create a new directory, ",(0,i.jsx)(s.code,{children:"rmdir()"})," to removes an empty directory, and ",(0,i.jsx)(s.code,{children:"rename()"})," for renaming a file or directory."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"File System Information"}),": System calls such as ",(0,i.jsx)(s.code,{children:"stat()"})," to retrieve file metadata, such as size and timestamps, while ",(0,i.jsx)(s.code,{children:"chmod()"})," is used to change file permissions, such as read, write, and execute permissions."]}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"device-manipulation",children:"Device Manipulation"}),"\n",(0,i.jsx)(s.p,{children:"System calls related to devices and device drivers are used for interacting with hardware devices."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Device I/O"}),": System calls such as ",(0,i.jsx)(s.code,{children:"ioctl()"}),", ",(0,i.jsx)(s.code,{children:"read()"}),", and ",(0,i.jsx)(s.code,{children:"write()"})," are used for device input/output operations. ",(0,i.jsx)(s.code,{children:"ioctl()"})," allows for performing device-specific control operations, while ",(0,i.jsx)(s.code,{children:"read()"})," and ",(0,i.jsx)(s.code,{children:"write()"})," are used to read data from and write data to devices."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Device Control"}),": System calls like ",(0,i.jsx)(s.code,{children:"open()"}),", ",(0,i.jsx)(s.code,{children:"close()"}),", and ",(0,i.jsx)(s.code,{children:"poll()"})," are used to control device access and manage device connections. ",(0,i.jsx)(s.code,{children:"open()"})," is used to open a device and obtain a file descriptor for it, ",(0,i.jsx)(s.code,{children:"close()"})," is used to release the device and close the file descriptor, and ",(0,i.jsx)(s.code,{children:"poll()"})," is used to monitor the status of multiple devices for events or data availability. These system calls provide mechanisms for managing device interactions and controlling device access."]}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"information-maintenance",children:"Information Maintenance"}),"\n",(0,i.jsx)(s.p,{children:"System calls in this category are used to retrieve and manipulate system information."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Time and Date"}),": System calls such as ",(0,i.jsx)(s.code,{children:"time()"}),", ",(0,i.jsx)(s.code,{children:"gettimeofday()"}),", and ",(0,i.jsx)(s.code,{children:"clock_gettime()"})," provide access to system time and date. They allow programs to retrieve the current time, measure time intervals, and receive a precise timestamp."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"System Configuration"}),": System calls like ",(0,i.jsx)(s.code,{children:"uname()"})," retrieve system config information such as the operating system name and version."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"System Resource Usage"}),": System calls such as ",(0,i.jsx)(s.code,{children:"getrusage()"})," provide information about resource usage by processes. They allow programs to retrieve statistics on CPU time, memory usage, and other resources consumed by a process."]}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"communications",children:"Communications"}),"\n",(0,i.jsx)(s.p,{children:"System calls in this category are used for inter-process communication (IPC) and network communication (socket operations)."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Socket Operations"}),": System calls such as ",(0,i.jsx)(s.code,{children:"socket()"}),", ",(0,i.jsx)(s.code,{children:"bind()"}),", ",(0,i.jsx)(s.code,{children:"listen()"}),", ",(0,i.jsx)(s.code,{children:"accept()"}),", ",(0,i.jsx)(s.code,{children:"connect()"}),", ",(0,i.jsx)(s.code,{children:"send()"}),", and ",(0,i.jsx)(s.code,{children:"recv()"})," are used for network communication using sockets. Sockets provide an interface for processes to communicate over a network. These system calls allow processes to create network sockets, bind them to specific addresses and ports, listen for incoming connections, establish connections to remote hosts, and send/receive data over the network."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Inter-Process Communication (IPC)"}),": System calls like ",(0,i.jsx)(s.code,{children:"pipe()"}),", ",(0,i.jsx)(s.code,{children:"shmget()"}),", ",(0,i.jsx)(s.code,{children:"semget()"}),", and ",(0,i.jsx)(s.code,{children:"msgget()"})," are used for various forms of IPC, including shared memory, semaphores, and message queues. These mechanisms facilitate communication and synchronization between different processes running on the same system. Processes can share data through shared memory, coordinate access to shared resources using semaphores, or exchange messages through message queues using these system calls."]}),"\n"]}),"\n",(0,i.jsx)(s.admonition,{type:"tip",children:(0,i.jsxs)(s.p,{children:["See also ",(0,i.jsx)(s.a,{href:"/operating-system/inter-process-communication#message-passing",children:"message passing"})," and ",(0,i.jsx)(s.a,{href:"/operating-system/inter-process-communication",children:"IPC"}),"."]})}),"\n",(0,i.jsx)(s.h4,{id:"protection",children:"Protection"}),"\n",(0,i.jsx)(s.p,{children:"System calls in this category are related to process and system security, including mechanisms for access control, user authentication, and cryptographic operations."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Access Control"}),": System calls such as ",(0,i.jsx)(s.code,{children:"chmod()"}),", ",(0,i.jsx)(s.code,{children:"chown()"}),", and ",(0,i.jsx)(s.code,{children:"setuid()"})," are used to modify file and process permissions and ownership. These system calls allow processes to change the access permissions and ownership of files, directories, and processes, providing control over who can read, write, or execute them."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"User Authentication"}),": System calls like ",(0,i.jsx)(s.code,{children:"getpwuid()"})," and ",(0,i.jsx)(s.code,{children:"getpwnam()"})," retrieve user account information. They allow processes to retrieve user details, such as username, user ID, and other account information, which can be used for authentication and access control purposes."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Cryptography"}),": System calls such as ",(0,i.jsx)(s.code,{children:"encrypt()"}),", ",(0,i.jsx)(s.code,{children:"decrypt()"}),", and ",(0,i.jsx)(s.code,{children:"hash()"})," provide cryptographic functionality for data security. These system calls allow processes to perform encryption and decryption operations on data, as well as generate cryptographic hashes for data integrity verification and password storage."]}),"\n"]}),"\n",(0,i.jsx)(s.admonition,{type:"tip",children:(0,i.jsxs)(s.p,{children:["See also ",(0,i.jsx)(s.a,{href:"/operating-system/protection-and-security",children:"OS security"}),"."]})}),"\n",(0,i.jsx)(s.h3,{id:"system-call-implementation",children:"System Call Implementation"}),"\n",(0,i.jsx)(s.p,{children:"Implementation vary of the operating system kernel, the general steps are:"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"System Call Number & Table"}),": Each system call is assigned a unique number or identifier by the operating system. The number is used to identify the requested system call, they are maintained in a table that maps the system call numbers to their corresponding kernel functions or handlers."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"User-Space to Kernel-Space Transition"}),": When a user program invokes a system call, it triggers a transition from user mode to kernel mode. This transition is typically done through a ",(0,i.jsx)(s.a,{href:"/operating-system/interrupt-handling",children:"software interrupt"})," or a special instruction, which transfers control from the user program to the kernel."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"System Call Handler"}),": The kernel receives the system call request and identifies the requested system call using the system call number provided by the user program. The system call handler corresponding to the system call number is then invoked."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Kernel Validation"}),": The system call handler validate the system call, ensuring that the parameter is valid, the caller has necessary permission, memory address is valid, and checks through other potential security risk."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Kernel Execution"}),": If the system call is valid, the handler executes the requested operation on behalf of the user program, depending on the request."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Result Return"}),": After the system call handler completes its execution, the kernel returns the result of the operation back to the user program. This can include return values, error codes, or other relevant information."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"User-Space Resumption"}),": The control is transferred back to the user program, and it continues execution from where it left off, now with the result of the system call available."]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},92157:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/images/system-call-fec5cf1ab6c34a3cae3e364bfe68c9d5.png"}}]);