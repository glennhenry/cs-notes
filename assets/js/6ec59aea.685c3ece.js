"use strict";(self.webpackChunkcs_notes=self.webpackChunkcs_notes||[]).push([[9520],{28453:(e,s,a)=>{a.d(s,{R:()=>i,x:()=>l});var n=a(96540);const t={},r=n.createContext(t);function i(e){const s=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),n.createElement(r.Provider,{value:s},e.children)}},63405:(e,s,a)=>{a.r(s),a.d(s,{assets:()=>m,contentTitle:()=>h,default:()=>x,frontMatter:()=>c,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"data-structures-and-algorithms/prefix-sum/prefix-sum","title":"Prefix Sum","description":"Prefix Sum","source":"@site/docs/data-structures-and-algorithms/22-prefix-sum/prefix-sum.mdx","sourceDirName":"data-structures-and-algorithms/22-prefix-sum","slug":"/data-structures-and-algorithms/prefix-sum","permalink":"/cs-notes/data-structures-and-algorithms/prefix-sum","draft":false,"unlisted":false,"editUrl":"https://github.com/glennhenry/cs-notes/tree/main/docs/data-structures-and-algorithms/22-prefix-sum/prefix-sum.mdx","tags":[],"version":"current","lastUpdatedBy":"glennhenry","lastUpdatedAt":1723455088000,"frontMatter":{"slug":"/data-structures-and-algorithms/prefix-sum","id":"prefix-sum","title":"Prefix Sum","description":"Prefix Sum"},"sidebar":"sidebar","previous":{"title":"Sliding Window","permalink":"/cs-notes/data-structures-and-algorithms/sliding-window"},"next":{"title":"Cycle Detection","permalink":"/cs-notes/data-structures-and-algorithms/cycle-detection"}}');var t=a(74848),r=a(28453);const i=a.p+"assets/medias/prefix-sum-illustration-8c20388918faa6e32ee42c272e6326c7.mp4",l=a.p+"assets/medias/prefix-sum-solution-e8f4631d34bddc07dc88a4430d1d829f.mp4",c={slug:"/data-structures-and-algorithms/prefix-sum",id:"prefix-sum",title:"Prefix Sum",description:"Prefix Sum"},h=void 0,m={},o=[{value:"Sum of K First Elements",id:"sum-of-k-first-elements",level:3},{value:"Naive Solution",id:"naive-solution",level:4},{value:"Prefix Sum Approach",id:"prefix-sum-approach",level:4}];function d(e){const s={a:"a",annotation:"annotation",br:"br",code:"code",h3:"h3",h4:"h4",li:"li",math:"math",mi:"mi",mo:"mo",mrow:"mrow",p:"p",pre:"pre",semantics:"semantics",span:"span",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Main Source:"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Prefix_sum",children:"Prefix sum \u2014 Wikipedia"})})}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Prefix Sum"}),", also known as ",(0,t.jsx)(s.strong,{children:"cumulative sum"}),", is the a sequence where each element is the sum of all the element before it, including itself."]}),"\n",(0,t.jsx)(s.p,{children:"A prefix is something placed before another. For instance, a prefix of an array of given element is all the element that comes before it. When we have array: [1, 4, 5, 7], the prefix of element 5 is 1 and 4. The prefix sum of this array would be another array with the same size, where each element is the sum up to each of the element itself in the original array."}),"\n",(0,t.jsx)(s.p,{children:"Here is an illustration:"}),"\n",(0,t.jsx)("video",{width:"695",height:"392",controls:!0,children:(0,t.jsx)("source",{src:i})}),"\n",(0,t.jsx)(s.p,{children:"So the prefix sum of the array [1, 4, 5, 7] is [1, 5, 10, 17]. Notice that the last element in the prefix sum is the entire sum of the array itself."}),"\n",(0,t.jsx)(s.h3,{id:"sum-of-k-first-elements",children:"Sum of K First Elements"}),"\n",(0,t.jsx)(s.p,{children:"The objective of this problem is to calculate the sum of the first K elements in an array. Given an array [1, 4, 5, 7], if we have a value of K equal to 2, we need to return the sum of the first two elements. In this case, the first two elements are 1 and 4, and their sum is 5. Hence, when K is 2, the expected result is 5."}),"\n",(0,t.jsx)(s.p,{children:"The complexity of this problem increases when we introduce multiple values of K. In addition to the original array, we are now given an array of K that contains varying numbers."}),"\n",(0,t.jsxs)(s.p,{children:["Input:",(0,t.jsx)(s.br,{}),"\n","arr = [1, 4, 5, 7]",(0,t.jsx)(s.br,{}),"\n","k = [0, 2, 3, 1]"]}),"\n",(0,t.jsxs)(s.p,{children:["Output:",(0,t.jsx)(s.br,{}),"\n","result = [0, 5, 10, 1]"]}),"\n",(0,t.jsx)(s.p,{children:"Explanation:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"For k = 0, the sum is 0 (no elements considered)."}),"\n",(0,t.jsx)(s.li,{children:"For k = 2, the sum is 1 + 4 = 5 (considering the first two elements)."}),"\n",(0,t.jsx)(s.li,{children:"For k = 3, the sum is 1 + 4 + 5 = 10 (considering the first three elements)."}),"\n",(0,t.jsx)(s.li,{children:"For k = 1, the sum is 1 = 1 (considering the first one elements)."}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"naive-solution",children:"Naive Solution"}),"\n",(0,t.jsx)(s.p,{children:"The pseudocode for this:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"function sumKElements(arrayOfNumber, arrayOfK)\n    result = []\n    sum = 0\n\n    for each k in arrayOfK:\n        for the first k element in arrayOfNumber:\n            sum = sum + element\n        append sum to result\n        sum = 0\n\n    return result\n"})}),"\n",(0,t.jsxs)(s.p,{children:["We would sum up to K for each K in the arrayOfK. While this is a correct solution, it is very inefficient. As we can see in the explanation above, we did a lot of repeated work. For example, when we calculate ",(0,t.jsx)(s.code,{children:"k = 3"}),", we would need to add 1 + 4 + 5. When we calculate ",(0,t.jsx)(s.code,{children:"k = 2"}),", we would need to add 1 + 4."]}),"\n",(0,t.jsxs)(s.p,{children:["The worst case scenario occurs when we got an array of K, where each K is a large number, making us need to sum the whole array again at each K. The worst-case scenario time complexity for this algorithm would be ",(0,t.jsxs)(s.span,{className:"katex",children:[(0,t.jsx)(s.span,{className:"katex-mathml",children:(0,t.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(s.semantics,{children:[(0,t.jsxs)(s.mrow,{children:[(0,t.jsx)(s.mi,{children:"O"}),(0,t.jsx)(s.mo,{stretchy:"false",children:"("}),(0,t.jsx)(s.mi,{children:"n"}),(0,t.jsx)(s.mo,{children:"\u2217"}),(0,t.jsx)(s.mi,{children:"k"}),(0,t.jsx)(s.mo,{stretchy:"false",children:")"})]}),(0,t.jsx)(s.annotation,{encoding:"application/x-tex",children:"O(n * k)"})]})})}),(0,t.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,t.jsxs)(s.span,{className:"base",children:[(0,t.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,t.jsx)(s.span,{className:"mopen",children:"("}),(0,t.jsx)(s.span,{className:"mord mathnormal",children:"n"}),(0,t.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,t.jsx)(s.span,{className:"mbin",children:"\u2217"}),(0,t.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,t.jsxs)(s.span,{className:"base",children:[(0,t.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03148em"},children:"k"}),(0,t.jsx)(s.span,{className:"mclose",children:")"})]})]})]}),", where ",(0,t.jsxs)(s.span,{className:"katex",children:[(0,t.jsx)(s.span,{className:"katex-mathml",children:(0,t.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(s.semantics,{children:[(0,t.jsx)(s.mrow,{children:(0,t.jsx)(s.mi,{children:"n"})}),(0,t.jsx)(s.annotation,{encoding:"application/x-tex",children:"n"})]})})}),(0,t.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(s.span,{className:"base",children:[(0,t.jsx)(s.span,{className:"strut",style:{height:"0.4306em"}}),(0,t.jsx)(s.span,{className:"mord mathnormal",children:"n"})]})})]})," is the length of the array and ",(0,t.jsxs)(s.span,{className:"katex",children:[(0,t.jsx)(s.span,{className:"katex-mathml",children:(0,t.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(s.semantics,{children:[(0,t.jsx)(s.mrow,{children:(0,t.jsx)(s.mi,{children:"k"})}),(0,t.jsx)(s.annotation,{encoding:"application/x-tex",children:"k"})]})})}),(0,t.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(s.span,{className:"base",children:[(0,t.jsx)(s.span,{className:"strut",style:{height:"0.6944em"}}),(0,t.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03148em"},children:"k"})]})})]})," is the length of the array of K."]}),"\n",(0,t.jsx)(s.h4,{id:"prefix-sum-approach",children:"Prefix Sum Approach"}),"\n",(0,t.jsxs)(s.p,{children:["This problem can be optimized using prefix sum approach. We will first generate the prefix sum array, and then we can just return the prefix sum array at index ",(0,t.jsx)(s.code,{children:"k - 1"})," (we subtract with 1 because array index starts from 0) for each K in the ",(0,t.jsx)(s.code,{children:"arrayOfK"})," easily."]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"function sumKElements(arrayOfNumber, arrayOfK)\n    result = []\n    prefixSum = [0]\n\n    for each number in arrayOfNumber:\n        lastSum = get last element of prefixSum\n        currentSum = lastSum + number\n        add currentSum to prefixSum\n\n    for each k in arrayOfK:\n        add prefixSum[k] to result\n\n    return result\n"})}),"\n",(0,t.jsx)(s.p,{children:"Here is the illustration:"}),"\n",(0,t.jsx)("video",{width:"695",height:"392",controls:!0,children:(0,t.jsx)("source",{src:l})}),"\n",(0,t.jsxs)(s.p,{children:["To generate a prefix sum, you iterate through the array of numbers and at each iteration, add the current element to the sum accumulated so far. We will initially put 0, indicating we have accumulated 0 so far. The result of each sum is appended to the ",(0,t.jsx)(s.code,{children:"prefixSum"})," array, where each element represents the cumulative sum of the ",(0,t.jsx)(s.code,{children:"arrayOfNumber"})," up to that specific element's index."]}),"\n",(0,t.jsxs)(s.p,{children:["Generating prefix sum basically iterate the whole array, it takes ",(0,t.jsxs)(s.span,{className:"katex",children:[(0,t.jsx)(s.span,{className:"katex-mathml",children:(0,t.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(s.semantics,{children:[(0,t.jsxs)(s.mrow,{children:[(0,t.jsx)(s.mi,{children:"O"}),(0,t.jsx)(s.mo,{stretchy:"false",children:"("}),(0,t.jsx)(s.mi,{children:"n"}),(0,t.jsx)(s.mo,{stretchy:"false",children:")"})]}),(0,t.jsx)(s.annotation,{encoding:"application/x-tex",children:"O(n)"})]})})}),(0,t.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(s.span,{className:"base",children:[(0,t.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,t.jsx)(s.span,{className:"mopen",children:"("}),(0,t.jsx)(s.span,{className:"mord mathnormal",children:"n"}),(0,t.jsx)(s.span,{className:"mclose",children:")"})]})})]})," time, where ",(0,t.jsxs)(s.span,{className:"katex",children:[(0,t.jsx)(s.span,{className:"katex-mathml",children:(0,t.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(s.semantics,{children:[(0,t.jsx)(s.mrow,{children:(0,t.jsx)(s.mi,{children:"n"})}),(0,t.jsx)(s.annotation,{encoding:"application/x-tex",children:"n"})]})})}),(0,t.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(s.span,{className:"base",children:[(0,t.jsx)(s.span,{className:"strut",style:{height:"0.4306em"}}),(0,t.jsx)(s.span,{className:"mord mathnormal",children:"n"})]})})]})," is the length of the ",(0,t.jsx)(s.code,{children:"arrayOfNumber"}),". The iteration of ",(0,t.jsx)(s.code,{children:"arrayOfK"})," will result in ",(0,t.jsxs)(s.span,{className:"katex",children:[(0,t.jsx)(s.span,{className:"katex-mathml",children:(0,t.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(s.semantics,{children:[(0,t.jsxs)(s.mrow,{children:[(0,t.jsx)(s.mi,{children:"O"}),(0,t.jsx)(s.mo,{stretchy:"false",children:"("}),(0,t.jsx)(s.mi,{children:"k"}),(0,t.jsx)(s.mo,{stretchy:"false",children:")"})]}),(0,t.jsx)(s.annotation,{encoding:"application/x-tex",children:"O(k)"})]})})}),(0,t.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(s.span,{className:"base",children:[(0,t.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,t.jsx)(s.span,{className:"mopen",children:"("}),(0,t.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03148em"},children:"k"}),(0,t.jsx)(s.span,{className:"mclose",children:")"})]})})]}),", where ",(0,t.jsxs)(s.span,{className:"katex",children:[(0,t.jsx)(s.span,{className:"katex-mathml",children:(0,t.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(s.semantics,{children:[(0,t.jsx)(s.mrow,{children:(0,t.jsx)(s.mi,{children:"k"})}),(0,t.jsx)(s.annotation,{encoding:"application/x-tex",children:"k"})]})})}),(0,t.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(s.span,{className:"base",children:[(0,t.jsx)(s.span,{className:"strut",style:{height:"0.6944em"}}),(0,t.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03148em"},children:"k"})]})})]})," is the length of the ",(0,t.jsx)(s.code,{children:"arrayOfK"}),". With both iteration together, this results in ",(0,t.jsxs)(s.span,{className:"katex",children:[(0,t.jsx)(s.span,{className:"katex-mathml",children:(0,t.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(s.semantics,{children:[(0,t.jsxs)(s.mrow,{children:[(0,t.jsx)(s.mi,{children:"O"}),(0,t.jsx)(s.mo,{stretchy:"false",children:"("}),(0,t.jsx)(s.mi,{children:"n"}),(0,t.jsx)(s.mo,{children:"+"}),(0,t.jsx)(s.mi,{children:"k"}),(0,t.jsx)(s.mo,{stretchy:"false",children:")"})]}),(0,t.jsx)(s.annotation,{encoding:"application/x-tex",children:"O(n + k)"})]})})}),(0,t.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,t.jsxs)(s.span,{className:"base",children:[(0,t.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),(0,t.jsx)(s.span,{className:"mopen",children:"("}),(0,t.jsx)(s.span,{className:"mord mathnormal",children:"n"}),(0,t.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,t.jsx)(s.span,{className:"mbin",children:"+"}),(0,t.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,t.jsxs)(s.span,{className:"base",children:[(0,t.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03148em"},children:"k"}),(0,t.jsx)(s.span,{className:"mclose",children:")"})]})]})]})," time complexity"]})]})}function x(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);