"use strict";(self.webpackChunkcs_notes=self.webpackChunkcs_notes||[]).push([[811],{66162:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>c});var i=s(85893),t=s(11151);const r={slug:"/digital-media-processing/png",id:"png",title:"PNG",description:"PNG"},a=void 0,o={id:"digital-media-processing/png/png",title:"PNG",description:"PNG",source:"@site/docs/digital-media-processing/19-png/png.md",sourceDirName:"digital-media-processing/19-png",slug:"/digital-media-processing/png",permalink:"/cs-notes/digital-media-processing/png",draft:!1,unlisted:!1,editUrl:"https://github.com/glennhenry/cs-notes/tree/main/docs/digital-media-processing/19-png/png.md",tags:[],version:"current",lastUpdatedBy:"glennhenry",lastUpdatedAt:1703153133,formattedLastUpdatedAt:"Dec 21, 2023",frontMatter:{slug:"/digital-media-processing/png",id:"png",title:"PNG",description:"PNG"},sidebar:"sidebar",previous:{title:"JPG / JPEG",permalink:"/cs-notes/digital-media-processing/jpg-jpeg"},next:{title:"WebP",permalink:"/cs-notes/digital-media-processing/webp"}},l={},c=[{value:"PNG Structure",id:"png-structure",level:3},{value:"PNG Compression",id:"png-compression",level:3}];function d(e){const n={a:"a",br:"br",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,t.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.strong,{children:["Main Source : ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/PNG",children:"Wikipedia PNG"})]})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"PNG or Portable Network Graphics"})," is a digital format that uses lossless compression, meaning it can store images without any loss of quality but with bigger file sizes compared to JPEG."]}),"\n",(0,i.jsx)(n.p,{children:"While PNG has larger size than JPEG, however PNG has an advantages, it supports alpha channel transparency. PNG can display transparent areas within an image. Alpha channel making the it stores extra 8 bit for each color, it becomes RGBA. The alpha value vary between 0 (fully invisible) to 255 (fully visible)."}),"\n",(0,i.jsxs)(n.p,{children:["The transparent image can then be place or combined with other transparent image, this is called ",(0,i.jsx)(n.a,{href:"/computer-graphics/computer-images-part-2#alpha",children:"alpha blending"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{alt:"PNG transparency compared to JPG",src:s(91127).Z+"",width:"466",height:"230"}),(0,i.jsx)(n.br,{}),"\n","Source : ",(0,i.jsx)(n.a,{href:"https://www.stellarinfo.com/blog/jpg-vs-png/",children:"https://www.stellarinfo.com/blog/jpg-vs-png/"})]}),"\n",(0,i.jsx)(n.h3,{id:"png-structure",children:"PNG Structure"}),"\n",(0,i.jsx)(n.p,{children:"PNG consist of ordered component called chunks, each chunks represent information that makes up PNG file."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"PNG Signature"})," : The file starts with an 8-byte signature that identifies it as a PNG file. The signature helps software recognize and validate the file format."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"IHDR Chunk"})," : The IHDR (Image Header) chunk stores essential information about the image, such as its dimensions (width and height), bit depth, color type, compression method, and interlace method."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Ancillary Chunks"})," : After the IHDR chunk, there can be an optional ancillary chunks that provide additional information and features. There are many types of ancillary chunks, common examples include:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"bKGD (Background)"})," : The default background color."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"PLTE (Palette)"})," : This chunk defines a color palette for indexed color images."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"tRNS (Transparency)"})," : It specifies transparency information for the image, such as alpha values for individual palette entries or a single transparent color."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"pHYs (Physical Dimensions)"})," : This chunk indicates the intended physical size of the image in terms of pixels per unit."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"tIME (Last Modification Time)"})," : It stores the timestamp of the last image modification."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Image Data"})," : The actual image data comes after the header and optional ancillary chunks. The image data is compressed using a lossless compression, this chunk is called IDAT."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"IEND Chunk"})," : The IEND (Image End) chunk marks the end of the PNG file. It serves as a marker to indicate that there are no more chunks following it."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{alt:"Structure of PNG image",src:s(93368).Z+"",width:"668",height:"320"}),(0,i.jsx)(n.br,{}),"\n","Source : ",(0,i.jsx)(n.a,{href:"https://github.com/HugoJH/HideIntoPNG",children:"https://github.com/HugoJH/HideIntoPNG"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"png-compression",children:"PNG Compression"}),"\n",(0,i.jsx)(n.p,{children:"The PNG compression consist of two steps :"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Filtering"}),' : The first step is to "predict", it\'s pre-processing before the actual compression. The purpose of this step is to identify patterns or correlations between pixels. It works by applying prediction algorithm to each pixel data in scanline based. The error or the difference between the predicted and actual pixel value is also stored.']}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"There are five types of filter method in PNG, the purpose of these are to capture pattern so that it can be compressed more efficiently :"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"None"})," : When there is little or no spatial correlation in the image data, no filtering is applied. Each pixel value is stored as is."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Sub"})," : The pixel value is predicted based on the value of the pixel immediately before it in the same scanline."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Up"})," : The pixel value is predicted based on the value of the pixel above it in the previous scanline."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Average"})," : The pixel value is predicted based on the average of the pixel above it and the pixel immediately before it."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Paeth"})," : The pixel value is predicted based on a linear combination of the pixel above it, the pixel immediately before it, and the pixel diagonally above it."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"DEFLATE"})," : This is a combination of LZ77 and ",(0,i.jsx)(n.a,{href:"/digital-signal-processing/compression#huffman-encoding",children:"Huffman Encoding"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"LZ77"}),' : LZ77 scans through the input data and identifies repeated sequences of data called "matches" or "phrases." Instead of storing each repeated sequence as is, LZ77 replaces them with references, consisting of an offset (indicating the distance to the start of the repeated sequence) and a length (representing the number of characters in the sequence).']}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{alt:"Illustration of LZ77 compression",src:s(40062).Z+"",width:"518",height:"333"}),(0,i.jsx)(n.br,{}),"\n","Source : ",(0,i.jsx)(n.a,{href:"https://www.researchgate.net/figure/An-example-of-LZ77-encoding_fig4_322296027",children:"https://www.researchgate.net/figure/An-example-of-LZ77-encoding_fig4_322296027"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Huffman Encoding"})," : After LZ77, huffman encoding is also applied to further reduce data by making frequent symbols in smaller size and less frequent symbols in larger size."]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},40062:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/lz77-d76ac351fd75df5cd7a0ed1749abc981.png"},93368:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/png-structure-a84a7e943fe72be336b908f9e28eaf9d.png"},91127:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/png-transparency-91cac1cd3cac33c08231fa5e63075800.png"},11151:(e,n,s)=>{s.d(n,{Z:()=>o,a:()=>a});var i=s(67294);const t={},r=i.createContext(t);function a(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);