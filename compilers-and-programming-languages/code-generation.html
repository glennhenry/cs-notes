<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-compilers-and-programming-languages/code-generation/code-generation" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.3.2">
<title data-rh="true">Code Generation | CS Notes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://glennhenry.github.io/cs-notes/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://glennhenry.github.io/cs-notes/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://glennhenry.github.io/cs-notes/compilers-and-programming-languages/code-generation"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Code Generation | CS Notes"><meta data-rh="true" name="description" content="Code Generation"><meta data-rh="true" property="og:description" content="Code Generation"><link data-rh="true" rel="icon" href="/cs-notes/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://glennhenry.github.io/cs-notes/compilers-and-programming-languages/code-generation"><link data-rh="true" rel="alternate" href="https://glennhenry.github.io/cs-notes/compilers-and-programming-languages/code-generation" hreflang="en"><link data-rh="true" rel="alternate" href="https://glennhenry.github.io/cs-notes/compilers-and-programming-languages/code-generation" hreflang="x-default"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/cs-notes/assets/css/styles.a82dc502.css">
<script src="/cs-notes/assets/js/runtime~main.b27a0655.js" defer="defer"></script>
<script src="/cs-notes/assets/js/main.eec5ade5.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cs-notes/"><div class="navbar__logo"><img src="/cs-notes/img/logo.svg" alt="Docusaurus Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/cs-notes/img/logo.svg" alt="Docusaurus Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Notes</b></a><a href="https://github.com/glennhenry/cs-notes" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Made with Docusaurus<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a class="navbar__item navbar__link" href="/cs-notes/index">Index</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS darkNavbarColorModeToggle_X3D1" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/cs-notes/"><img src="/cs-notes/img/logo.svg" alt="Docusaurus Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/cs-notes/img/logo.svg" alt="Docusaurus Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>Notes</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cs-notes/">Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cs-notes/index">Index</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cs-notes/digital-signal-processing">Digital Signal Processing</a><button aria-label="Expand sidebar category &#x27;Digital Signal Processing&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cs-notes/computer-and-programming-fundamentals">Computer &amp; Programming Fundamentals</a><button aria-label="Expand sidebar category &#x27;Computer &amp; Programming Fundamentals&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cs-notes/digital-media-processing">Digital Media Processing</a><button aria-label="Expand sidebar category &#x27;Digital Media Processing&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cs-notes/computer-networking">Computer Networking</a><button aria-label="Expand sidebar category &#x27;Computer Networking&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cs-notes/data-structures-and-algorithms">Data Structures &amp; Algorithms</a><button aria-label="Expand sidebar category &#x27;Data Structures &amp; Algorithms&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cs-notes/computer-organization-and-architecture">Computer Organization &amp; Architecture</a><button aria-label="Expand sidebar category &#x27;Computer Organization &amp; Architecture&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cs-notes/operating-system">Operating System</a><button aria-label="Expand sidebar category &#x27;Operating System&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cs-notes/theory-of-computation-and-automata">Theory of Computation &amp; Automata</a><button aria-label="Expand sidebar category &#x27;Theory of Computation &amp; Automata&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/cs-notes/compilers-and-programming-languages">Compilers &amp; Programming Languages</a><button aria-label="Collapse sidebar category &#x27;Compilers &amp; Programming Languages&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cs-notes/compilers-and-programming-languages/cpl-fundamentals">CPL Fundamentals</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/cs-notes/compilers-and-programming-languages/syntax">Compiler Frontend</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/cs-notes/compilers-and-programming-languages/names-scopes-bindings">Programming Languages Constructs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/cs-notes/compilers-and-programming-languages/target-architecture">Compiler Backend</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cs-notes/compilers-and-programming-languages/target-architecture">Target Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cs-notes/compilers-and-programming-languages/intermediate-representation">Intermediate Representation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cs-notes/compilers-and-programming-languages/assembly-language">Assembly Language</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cs-notes/compilers-and-programming-languages/code-generation">Code Generation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cs-notes/compilers-and-programming-languages/compiler-optimization">Compiler Optimization</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/cs-notes/compilers-and-programming-languages/functional-languages">Other Programming Model</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cs-notes/database-system">Database System</a><button aria-label="Expand sidebar category &#x27;Database System&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cs-notes/computer-graphics">Computer Graphics</a><button aria-label="Expand sidebar category &#x27;Computer Graphics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cs-notes/frontend-web-development">Frontend Web Development</a><button aria-label="Expand sidebar category &#x27;Frontend Web Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cs-notes/backend-development">Backend Development</a><button aria-label="Expand sidebar category &#x27;Backend Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cs-notes/computer-security">Computer Security</a><button aria-label="Expand sidebar category &#x27;Computer Security&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cs-notes/machine-learning">Machine Learning</a><button aria-label="Expand sidebar category &#x27;Machine Learning&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cs-notes/deep-learning">Deep Learning</a><button aria-label="Expand sidebar category &#x27;Deep Learning&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cs-notes/software-engineering">Software Engineering</a><button aria-label="Expand sidebar category &#x27;Software Engineering&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/cs-notes/cloud-computing-and-distributed-systems">Cloud Computing &amp; Distributed Systems</a><button aria-label="Expand sidebar category &#x27;Cloud Computing &amp; Distributed Systems&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cs-notes/android-os">Android OS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cs-notes/android-development">Android Development</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/cs-notes/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/cs-notes/compilers-and-programming-languages"><span itemprop="name">Compilers &amp; Programming Languages</span></a><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Compiler Backend</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Code Generation</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Code Generation</h1></header><p><strong>Main Source :</strong></p>
<ul>
<li><strong>Book 1 chapter 11</strong></li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="helper-functions">Helper Functions<a href="#helper-functions" class="hash-link" aria-label="Direct link to Helper Functions" title="Direct link to Helper Functions">​</a></h3>
<p>When generating codes, it is useful to create several helper functions.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">int scratch_alloc();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">void scratch_free( int r );</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const char * scratch_name( int r );</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>These are helper functions related to registers. We will store register in a table and access them with number.</p>
<p><img decoding="async" loading="lazy" alt="Register table" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAb0AAABICAYAAABiBitaAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABlESURBVHhe7Z0JvFRTGMCPfd8iW5bIWoiyL9kjREjWEEVk+VVIZY9EEWUJ2cka0WKJUNlaRIgsUUkiIdKi3rj/r3uea5o3c+fN3Jk5d77/7/d+7y7z5t17zzn3W853vm+5hIdRFEVRlDJgef+3oiiKosQeFXqKoihK2aBCT1EURSkbVOgpiqIoZYMKPUVRFKVsUKGnKIqilA0q9BRFUZSyQYWeoiiKUjbktDh9+vTp5oILLjCrrbaafyQe8Eh+//13s9566/lH3ObXX38166+/vr/nLgsXLjSLFy82a6yxhn/EXeLSJn/88YdZc801zQorrOAfcZMlS5aYv/76y6yzzjr+EXeJS9+aN2+eefjhh81GG23kH8kTCL3qMnToUPmJG95ATnTq1Mnfc5+2bdv6W24zevToxIABA/w9t4lLm/To0SMxbdo0f89duAfuJQ7EpW8x1hnz+Ubdm3li0aJFYiHGhT///NPfchesQqzDOIDWG6f+NX/+fPPPP//4e26BFwircMGCBXIf7Meln1VUVPhb8UWFXo7MmjXLXHjhhaZ3797miCOOMDfffLN/xk0++ugj07p1a1OvXj3/iHvQJkcffbS43VdddVWz9957my+//NI/6xajRo0y2223ndlggw3M6quvbrp06eKfcZeRI0eamjVryvSIi+yzzz5mrbXWkv5FmzAN8uSTT/pn3QPl8LbbbjPnnXeemTBhgn80vqjQy5GmTZuaTp06yc/zzz8vnYcXlYs88MAD5o033pBB7bLmet9995ndd9/d/PDDD+bDDz+UOY6WLVv6Z93illtuMYMGDRLL4t577xWl6t133/XPugcv2L59+4rlisBwkR122MFMnjzZfPbZZ+bjjz8WRfG4447zz7oFVirK+vbbb2/uv/9+07BhQ/9MfFGhlwN0dgbvlltuKftrr722adSokXnqqadk3zXatGljrrjiCrEqXIaX6fXXXy8T4Hvuuae57rrrzPjx4yVYwSVQPM4//3xTt25dCRQ5++yzzeabb+60CwrBzT3BiiuuKL9dg3GO9Y03pH79+ma33XZzNnAEpR0L75hjjvGPxJ+C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" width="445" height="72" class="img_ev3q"><br>
<!-- -->Source : Book 1 page 182</p>
<ul>
<li><code>scratch_alloc</code> is used to allocate for free register, mark it as used, and return the register number.</li>
<li><code>scratch_free</code> marks the register <code>r</code> as free for use.</li>
<li><code>scratch_name</code> return the name of register with the given number <code>r</code>.</li>
</ul>
<p>Scratch registers are also known as registers used to keep intermediate result or value.</p>
<p>In the assembly program, to indicate jumps and conditional branches, we will need many labels. These two function should help us in label management, including generating and retrieving them.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">int label_create();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const char * label_name( int label );</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>We are going to use generic label name like <code>L1</code>, and it is going to be incremented as we use <code>label_create</code>. It&#x27;s function simply increment global counter and return current value. The <code>label_name</code> return label in string form given its number. <code>label_name(15)</code> would return &quot;.L15&quot;.</p>
<p>Then, write a function to map between symbol in program to its assembly language representation.</p>
<p><code>const char * symbol_codegen( struct symbol *s );</code></p>
<p>It takes the symbol representation, which may contains the scope. Scope will be examined to determine whether to return the corresponding symbol in local or global scope. It should return a string which represent the instruction to compute the address of that symbol. For example, if the given symbol is local variable or function parameters, the address may be computed by doing stack instruction.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="generating-expressions">Generating Expressions<a href="#generating-expressions" class="hash-link" aria-label="Direct link to Generating Expressions" title="Direct link to Generating Expressions">​</a></h3>
<p>To generate an expression, we need to traverse the <a href="/cs-notes/compilers-and-programming-languages/semantic-analysis#abstract-syntax-tree">AST</a> or <a href="/cs-notes/compilers-and-programming-languages/intermediate-representation#directed-acyclic-graph">DAG</a>.</p>
<p>The AST represents the expression&#x27;s operands in the left and right child nodes, while the operation performed on them is the parent node itself. A <a href="/cs-notes/data-structures-and-algorithms/traversal#postorder-traversal">post-order traversal</a> ensures that the left and right child nodes are visited first, so we know what the operands are.</p>
<p>The strategy is to store left and right node&#x27;s value temporarily in registers. To let the parent node know which register we used, we store an information about it in each node. On each visit to node, we should generate corresponding assembly code.</p>
<p><img decoding="async" loading="lazy" alt="Expression generation" src="/cs-notes/assets/images/expression-example-020c7e11c663e65a4879a733888456d2.png" width="357" height="148" class="img_ev3q"><br>
<!-- -->Source : Book 1 page 184</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>It&#x27;s generated in <a href="/cs-notes/computer-organization-and-architecture/assembly-language#x86-assembly-language">x86 assembly</a>.</p></div></div>
<p>Each step correspond to each line of the assembly code.</p>
<ol>
<li>A post-order will visit the left-most node, which is <code>a</code>. This <code>a</code> will be stored in register allocated from the <code>scratch_alloc</code>. It should be allocated on the <code>R0</code>, and the instruction <code>MOVQ a, R0</code> is generated.</li>
<li>Next, node <code>3</code> is visited, and it will be allocated on the <code>R1</code>. Corresponding instruction is also generated.</li>
<li>The parent <code>IADD</code> is visited. It should know that its children hold values on <code>R0</code> and <code>R1</code>. It will generate <code>ADDQ R0, R1</code>. Since <code>ADD</code> is destructive that leaves result in the second argument <code>R1</code>, <code>scratch_free(R0)</code> will be called.</li>
<li>The <code>b</code> is visited, similarly, <code>scratch_alloc</code> is called to allocate the register <code>R0</code>.</li>
<li>The parent <code>ISUB</code> is visited. It should compute based on registers on <code>IADD</code>, which stores its value in <code>R1</code> and <code>b</code>, which stores in <code>R0</code>. Result is stored in <code>R1</code> and <code>R0</code> is freed again.</li>
<li>Visit the <code>c</code> node, but this will not produce code, since it is a target assignment.</li>
<li>Visit the <code>ASSIGN</code> node and produce <code>MOVQ R1, c</code>.</li>
</ol>
<p>We should also call <code>scratch_name</code> on each register to obtain the real register name.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">MOVQ    a, %rbx</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">MOVQ   $3, %r10</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ADDQ %r10, %rbx</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">MOVQ    b, %rbx</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SUBQ %rbx, %r10</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">MOVQ %r10, c</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Here is one example of how the traversal can be implemented in code :</p>
<p><img decoding="async" loading="lazy" alt="Example of expressions generation in code" src="/cs-notes/assets/images/expr-codegen-c9cfd6a0e64e5e20dff92a4aa8f1892d.png" width="489" height="621" class="img_ev3q"><br>
<!-- -->Source : Book 1 page 186</p>
<p>Consider the case when variables <code>a</code>, <code>b</code>, and <code>c</code> were not so simple, such as a literal in function argument, or an argument that needs to be evaluated.</p>
<p>For example, if <code>a</code> is first argument of a function, this would be generated instead : <code>MOVQ -8(%rbp), %rbx</code>. The minus 8 indicates that we are moving the base pointer on the stack because a function first argument is located at an offset of 8 bytes below the <code>%rbp</code> register (in x86_64 machine).</p>
<p>When multiplication happens, result is always stored in <code>%rax</code> and its potential overflow in <code>%rdx</code>.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">MOV   $10, %rbx</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">MOV     x, %r10</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">MOV  %rbx, %rax</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">IMUL %r10</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">MOV  %rax, %r11</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This mean that we can&#x27;t use <code>%rax</code> and <code>%rdx</code> during multiplication. We better not use <code>%rdx</code> anywhere for this purpose.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="function-call">Function Call<a href="#function-call" class="hash-link" aria-label="Direct link to Function Call" title="Direct link to Function Call">​</a></h4>
<p><img decoding="async" loading="lazy" alt="Function call generation" src="/cs-notes/assets/images/function-call-0f8c81735a8162730cb168add532f8fd.png" width="366" height="244" class="img_ev3q"><br>
<code>a = f(10, b + c)</code><br>
<!-- -->Source : Book 1 page 187</p>
<p>When calling a function, the <code>ARG</code> node corresponds to a function argument. Depending on the case, function arguments may be passed by placing them on the stack or by placing them in registers. With the former (also called <strong>stack calling convention</strong>), we will use the <code>PUSH</code> instruction. With the latter (also called <strong>register calling convention</strong>), we should copy each of them to the argument registers. The <code>%rdi</code> and <code>%rsi</code> are typically used for first and second arguments of a function.</p>
<p>Before calling the function with <code>CALL f</code>, we have to preserve any registers used before doing this function call. Save caller-saved registers before <code>CALL</code> and restore them after it returns. In this case, the caller-saved registers are <code>%r10</code> and <code>%r11</code>. They contain the value of <code>b</code> and <code>c</code>, which is computed as argument already, yet we still include them. This is because it is possible that function <code>f</code> depends on or modifies them, which means it causes side effects to the registers. By preserving them, we ensure that <code>f</code> is provided with the expected values and that the original values are restored afterwards.</p>
<p>The function returns value should be stored in <code>%rax</code>, and it will be moved to newly allocated scratch registers <code>%rbx</code>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="generating-statements">Generating Statements<a href="#generating-statements" class="hash-link" aria-label="Direct link to Generating Statements" title="Direct link to Generating Statements">​</a></h3>
<p>Various statements can be encountered, this includes control flow statements. We should create a function that generates code for any kind of statements. One could look like below.</p>
<p><img decoding="async" loading="lazy" alt="Statements generator code" src="/cs-notes/assets/images/statement-generator-4d96bd0357e1b5173319c07c41c1b386.png" width="828" height="300" class="img_ev3q"><br>
<!-- -->Source : Book 1 page 188</p>
<p><a href="/cs-notes/compilers-and-programming-languages/semantic-analysis#statements">Recall the AST representation of statements</a>, all information about a statement is encapsulated in the <code>stmt</code> struct. The struct includes several optional fields, such as body expression, else expression (if an if statement), declaration (if a declaration).</p>
<p>Each statement may call another specific generator.</p>
<ul>
<li>A declaration is simple; it simply calls the code generator for declaration.</li>
<li>A statement that includes expression will obviously need to generate expression, which can call the previously discussed <code>expr_codegen</code> and free the registers used by the expression after.</li>
<li>A return statement must be evaluated as well, hence <code>expr_codegen</code> should be called on the given statement. After a function returns, it is expected that the execution continue to the caller. In other word, we must jump to the return address on the call stack.</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="control-flow">Control Flow<a href="#control-flow" class="hash-link" aria-label="Direct link to Control Flow" title="Direct link to Control Flow">​</a></h4>
<p>A control flow like if-else statement should look like :</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">if (expr) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    true-statement</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">} else {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    false-statement</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The approach is to evaluate the expression first, then use <code>CMP</code> to evaluate to true or false. Depending on the result, jump to the corresponding statement.</p>
<p>The assembly should be like below.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">expr</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">CMP $0, register</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">JE false-label</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">true-statement</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">JMP done-label</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">false-label:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    false-statement</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">done-label:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ...next code</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>It evaluates expression, compares whether it is 0 (false). If it&#x27;s a yes, jump to <code>false-label</code>, which contains the false statement. Else, the true statement will be evaluated, and once it is done, skip the <code>false-label</code> by jumping directly to the next code (<code>done-label</code>).</p>
<p><img decoding="async" loading="lazy" alt="If statement generator" src="/cs-notes/assets/images/if-statement-69b195142a791db0d0afb6bb60fe5274.png" width="487" height="239" class="img_ev3q"><br>
<!-- -->Source : Book 1 page 190</p>
<p>A for loop is :</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">for (init-expr; expr; next-expr) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    body-statement</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In assembly :</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">            init-expr</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">top-label:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            epxr</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            CMP $0, register</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            JE done-label</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            body-statement</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            next-expression</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            JMP top-label</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">done-label:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            ...next code</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The initialization expression should be evaluated first. A typical loop is constructed by :</p>
<ol>
<li>Compare result of an expression.</li>
<li>Depending on the result, either execute the body statement, execute next expression (e.g., increment counter), then jump back to the start of the loop, or jump to the next code.</li>
</ol>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="conditional-expressions">Conditional Expressions<a href="#conditional-expressions" class="hash-link" aria-label="Direct link to Conditional Expressions" title="Direct link to Conditional Expressions">​</a></h3>
<p>Conditional expression includes comparison between data types that returns boolean values. They can be less than, greater than, equal, etc. It is a form of <code>left-expr &lt; right-expr</code>. If we assign the result of comparison to a variable, such as <code>b: boolean = x &lt; y;</code>.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">            left-expr</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            right-expr</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            CMP left-register, right-register</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            JLT true-label</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            MOV false, result-register</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            JMP done-label</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">true-label:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            MOV true, result-register</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">done-label:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            ...next code</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Left and right expression is evaluated. Both results are stored on their corresponding register. <code>CMP</code> is performed on the two, which set the register flag. Depending on the result, it can execute the <code>JLT</code> (jump if less than) to the <code>true-label</code>, which assign true to the result register, or execute the <code>MOV false, result-register</code>, which assign false instead.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="generating-declarations">Generating Declarations<a href="#generating-declarations" class="hash-link" aria-label="Direct link to Generating Declarations" title="Direct link to Generating Declarations">​</a></h3>
<p>Declarations can be local variable declaration, global variable, and function declaration. Global declaration is simple, we just need to generate label on the data section of the assembly code.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">i: integer = 10;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">s: string = &quot;hello&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">b: array [4] boolean = {true, false, true, false};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">.data</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">i: .quad 10</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">s: .string &quot;hello&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">b: .quad 1, 0, 1, 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If there were conflicting declaration, the further declaration will overwrite the previous values. If the declaration contains expression, they will need to be evaluated first, because data section must contain constant values.</p>
<p>A local variable declaration is contained within a function. This mean that it is pushed onto the stack during the function execution.</p>
<p>To declare a function, we will need to generate label for the function name to start executing the function, and another label for the return statement. Inside the function, we will need to do necessary steps, this includes the function prologue and epilogue.</p>
<ul>
<li>Prologue : Setting up function&#x27;s stack frame, including allocating space for parameters and local variables.</li>
<li>Epilogue : Cleaning up the function&#x27;s stack frame before returning, such as restoring the stack pointer, restoring the previous base pointer.</li>
</ul>
<p>Overall, the relationship of the code generator functions can be summarized as follows.</p>
<p><img decoding="async" loading="lazy" alt="Relationship between code generation functions" src="/cs-notes/assets/images/code-generation-functions-80cadbe4c16ee1560fdc30b8c58b0876.png" width="437" height="212" class="img_ev3q"><br>
<!-- -->Source : Book 1 page 182</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/glennhenry/cs-notes/tree/main/docs/compilers-and-programming-languages/14-code-generation/code-generation.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-05-11T07:14:19.000Z" itemprop="dateModified">May 11, 2024</time></b> by <b>glennhenry</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/cs-notes/compilers-and-programming-languages/assembly-language"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Assembly Language</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/cs-notes/compilers-and-programming-languages/compiler-optimization"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Compiler Optimization</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#helper-functions" class="table-of-contents__link toc-highlight">Helper Functions</a></li><li><a href="#generating-expressions" class="table-of-contents__link toc-highlight">Generating Expressions</a><ul><li><a href="#function-call" class="table-of-contents__link toc-highlight">Function Call</a></li></ul></li><li><a href="#generating-statements" class="table-of-contents__link toc-highlight">Generating Statements</a><ul><li><a href="#control-flow" class="table-of-contents__link toc-highlight">Control Flow</a></li></ul></li><li><a href="#conditional-expressions" class="table-of-contents__link toc-highlight">Conditional Expressions</a></li><li><a href="#generating-declarations" class="table-of-contents__link toc-highlight">Generating Declarations</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024, myself. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>